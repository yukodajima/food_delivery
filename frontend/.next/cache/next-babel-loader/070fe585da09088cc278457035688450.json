{"ast":null,"code":"//以下strapiのドキュメントを参考にする\n//https://docs-v3.strapi.io/developer-docs/latest/development/plugins/users-permissions.html#jwt-configuration\nimport axios from 'axios';\nimport Cookie from 'js-cookie';\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:1337';\n\n//新しいユーザーを登録\nexport const registerUser = async (username, email, password) => {\n  await axios.post(`${API_URL}/auth/local/register`, {\n    username,\n    email,\n    password\n  }).then(res => {\n    console.log('res:', res);\n    Cookie.set('token', res.data.jwt, {\n      expires: 7\n    });\n    window.location.href = '/';\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const login = async (identifier, password) => {\n  await axios.post(`${API_URL}/auth/local`, {\n    identifier,\n    password\n  }).then(res => {\n    console.log('res:', res);\n    Cookie.set('token', res.data.jwt, {\n      expires: 7\n    });\n    window.location.href = '/';\n  }).catch(err => {\n    console.log(err);\n  });\n};","map":{"version":3,"names":["axios","Cookie","API_URL","process","env","NEXT_PUBLIC_API_URL","registerUser","username","email","password","post","then","res","console","log","set","data","jwt","expires","window","location","href","catch","err","login","identifier"],"sources":["/Users/kodajimayuu1/Desktop/udemy/food-delivery-udemy/frontend/lib/auth.js"],"sourcesContent":["//以下strapiのドキュメントを参考にする\n//https://docs-v3.strapi.io/developer-docs/latest/development/plugins/users-permissions.html#jwt-configuration\nimport axios from 'axios';\nimport Cookie from 'js-cookie';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:1337';\n\n//新しいユーザーを登録\nexport const registerUser = async (username, email, password) => {\n  await axios\n    .post(`${API_URL}/auth/local/register`, {\n      username,\n      email,\n      password,\n    })\n    .then((res) => {\n      console.log('res:', res);\n      Cookie.set('token', res.data.jwt, { expires: 7 });\n      window.location.href = '/';\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const login = async (identifier, password) => {\n  await axios\n    .post(`${API_URL}/auth/local`, {\n      identifier,\n      password,\n    })\n    .then((res) => {\n      console.log('res:', res);\n      Cookie.set('token', res.data.jwt, { expires: 7 });\n      window.location.href = '/';\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n"],"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,WAAW;AAE9B,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,mBAAmB,IAAI,uBAAuB;;AAE1E;AACA,OAAO,MAAMC,YAAY,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,KAAK,EAAEC,QAAQ,KAAK;EAC/D,MAAMT,KAAK,CACRU,IAAI,CAAE,GAAER,OAAQ,sBAAqB,EAAE;IACtCK,QAAQ;IACRC,KAAK;IACLC;EACF,CAAC,CAAC,CACDE,IAAI,CAAEC,GAAG,IAAK;IACbC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEF,GAAG,CAAC;IACxBX,MAAM,CAACc,GAAG,CAAC,OAAO,EAAEH,GAAG,CAACI,IAAI,CAACC,GAAG,EAAE;MAAEC,OAAO,EAAE;IAAE,CAAC,CAAC;IACjDC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG;EAC5B,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;IACdV,OAAO,CAACC,GAAG,CAACS,GAAG,CAAC;EAClB,CAAC,CAAC;AACN,CAAC;AAED,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAOC,UAAU,EAAEhB,QAAQ,KAAK;EACnD,MAAMT,KAAK,CACRU,IAAI,CAAE,GAAER,OAAQ,aAAY,EAAE;IAC7BuB,UAAU;IACVhB;EACF,CAAC,CAAC,CACDE,IAAI,CAAEC,GAAG,IAAK;IACbC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEF,GAAG,CAAC;IACxBX,MAAM,CAACc,GAAG,CAAC,OAAO,EAAEH,GAAG,CAACI,IAAI,CAACC,GAAG,EAAE;MAAEC,OAAO,EAAE;IAAE,CAAC,CAAC;IACjDC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG;EAC5B,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;IACdV,OAAO,CAACC,GAAG,CAACS,GAAG,CAAC;EAClB,CAAC,CAAC;AACN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}