{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/kodajimayuu1/Desktop/udemy/food-delivery-udemy/frontend/pages/_app.js\";\nvar __jsx = React.createElement;\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nimport React from 'react';\nimport App from 'next/app';\nimport Head from 'next/head';\nimport Layout from './components/Layout';\nimport withDate from '../lib/apollo';\nimport AppContext from '../context/AppContext';\nimport Cookies from 'js-cookie';\nvar MyApp = /*#__PURE__*/function (_App) {\n  function MyApp() {\n    var _this;\n    _classCallCheck(this, MyApp);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, MyApp, [].concat(args));\n    //クラスコンポーネントなのでuseStateが使えない為クラスコンポーネントで記述している\n    // const [state, setState] = useState(null);\n    //上のuseStateの記述と下の記述は同じ意味\n    _defineProperty(_this, \"state\", {\n      user: null\n    });\n    _defineProperty(_this, \"setUser\", function (user) {\n      _this.setState({\n        user: user\n      });\n    });\n    return _this;\n  }\n  _inherits(MyApp, _App);\n  return _createClass(MyApp, [{\n    key: \"componentDidMount\",\n    value:\n    //すでにユーザーのクッキー情報が残っているかを確認する\n    function componentDidMount() {\n      var token = Cookies.get('taken'); //tokenの中にjwtが入っている\n\n      if (token) {\n        fetch(\"\".concat(process.env.NEXT_PUBLIC_API_URL, \"/users/me\"), {\n          headers: {\n            Authorization: \"Bearer \".concat(token)\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        Component = _this$props.Component,\n        pageProps = _this$props.pageProps;\n      return __jsx(AppContext.Provider, {\n        value: {\n          user: this.state.user,\n          setUser: this.setUser\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 7\n        }\n      }, __jsx(React.Fragment, null, __jsx(Head, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }\n      }, __jsx(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }\n      })), __jsx(Layout, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }\n      }, __jsx(Component, _extends({}, pageProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }\n      })))));\n    }\n  }]);\n}(App);\nexport default _c = withDate(MyApp);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","App","Head","Layout","withDate","AppContext","Cookies","MyApp","_App","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_defineProperty","user","setState","_inherits","_createClass","key","value","componentDidMount","token","get","fetch","process","env","NEXT_PUBLIC_API_URL","headers","Authorization","render","_this$props","props","Component","pageProps","__jsx","Provider","state","setUser","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","rel","href","_extends","_c","$RefreshReg$"],"sources":["/Users/kodajimayuu1/Desktop/udemy/food-delivery-udemy/frontend/pages/_app.js"],"sourcesContent":["import React from 'react';\nimport App from 'next/app';\nimport Head from 'next/head';\nimport Layout from './components/Layout';\nimport withDate from '../lib/apollo';\nimport AppContext from '../context/AppContext';\nimport Cookies from 'js-cookie';\n\nclass MyApp extends App {\n  //クラスコンポーネントなのでuseStateが使えない為クラスコンポーネントで記述している\n  // const [state, setState] = useState(null);\n\n  //上のuseStateの記述と下の記述は同じ意味\n  state = {\n    user: null,\n  };\n  setUser = (user) => {\n    this.setState({ user });\n  };\n\n  //すでにユーザーのクッキー情報が残っているかを確認する\n  componentDidMount() {\n    const token = Cookies.get('taken'); //tokenの中にjwtが入っている\n\n    if (token) {\n      fetch(`${process.env.NEXT_PUBLIC_API_URL}/users/me`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n    }\n  }\n\n  render() {\n    const { Component, pageProps } = this.props;\n    return (\n      <AppContext.Provider\n        value={{ user: this.state.user, setUser: this.setUser }}\n      >\n        <>\n          <Head>\n            <link\n              rel=\"stylesheet\"\n              href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css\"\n            />\n          </Head>\n          <Layout>\n            <Component {...pageProps} />\n          </Layout>\n        </>\n      </AppContext.Provider>\n    );\n  }\n}\n\nexport default withDate(MyApp);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}