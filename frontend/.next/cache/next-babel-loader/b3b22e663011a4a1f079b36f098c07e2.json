{"ast":null,"code":"var _jsxFileName = \"/Users/kodajimayuu1/Desktop/udemy/food-delivery-udemy/frontend/pages/restaurants.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { Card, CardBody, CardImg, CardTitle, Col, Row } from 'reactstrap';\nimport { gql } from 'apollo-boost';\nimport { useQuery } from '@apollo/react-hooks';\nimport { useRouter } from 'next/router';\n//graphQLを呼び出す\nconst GET_RESTAURANT_DISHES = gql`\n  query ($id: ID!) {\n    restaurant(id: $id) {\n      id\n      name\n      dishes {\n        id\n        name\n        description\n        price\n        image {\n          url\n        }\n      }\n    }\n  }\n`;\nconst Restaulants = props => {\n  console.log('props:', props);\n  const router = useRouter();\n  //GraphQLを使うためのフックス。ここでAPIを叩く\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GET_RESTAURANT_DISHES, {\n    //下のqueryはRestaurantList/index.js内にある?id=${res.id}を指す\n    variables: {\n      id: router.query.id\n    }\n  });\n  console.log('router.query.id:', router.query.id);\n  console.log('data:', data);\n  if (error) return 'レストランの読み込みに失敗しました。';\n  if (loading) return __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 23\n    }\n  }, \"\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D\\u3002\\u3002\\u3002\");\n  if (data) {\n    const {\n      restaurant\n    } = data;\n    return __jsx(React.Fragment, null, __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, restaurant.name), __jsx(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, restaurant.dishes.map(res => {\n      return __jsx(Col, {\n        xs: \"6\",\n        sm: \"4\",\n        key: res.id,\n        style: {\n          padding: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }\n      }, __jsx(Card, {\n        style: {\n          margin: '0 10px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }, __jsx(CardImg, {\n        src: `${process.env.NEXT_PUBLIC_API_URL}${res.image.url}`,\n        top: true,\n        style: {\n          height: 250\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 19\n        }\n      }), __jsx(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 19\n        }\n      }, __jsx(CardTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }\n      }, res.name, \" \"), __jsx(CardTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      }, res.description)), __jsx(\"div\", {\n        className: \"jsx-1250516796\" + \" \" + \"card-footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 19\n        }\n      }, __jsx(Link, {\n        as: `/restaurants/${res.id}`,\n        href: `/restaurants?id=${res.id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }\n      }, __jsx(\"a\", {\n        className: \"jsx-1250516796\" + \" \" + \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 23\n        }\n      }, \"\\u3082\\u3063\\u3068\\u898B\\u308B\")))));\n    }), __jsx(_JSXStyle, {\n      id: \"1250516796\",\n      __self: this\n    }, \".jsx-1250516796{.card-column:3;}a.jsx-1250516796{color:white;}a.jsx-1250516796: link.jsx-1250516796{-webkit-text-decoration:none;text-decoration:none;color:white;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rb2RhamltYXl1dTEvRGVza3RvcC91ZGVteS9mb29kLWRlbGl2ZXJ5LXVkZW15L2Zyb250ZW5kL3BhZ2VzL3Jlc3RhdXJhbnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTBFYSxBQUc2QixBQUdTLEFBR1IsWUFMZixHQU1GLG1DQUhnQixZQUNkIiwiZmlsZSI6Ii9Vc2Vycy9rb2RhamltYXl1dTEvRGVza3RvcC91ZGVteS9mb29kLWRlbGl2ZXJ5LXVkZW15L2Zyb250ZW5kL3BhZ2VzL3Jlc3RhdXJhbnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCB7IENhcmQsIENhcmRCb2R5LCBDYXJkSW1nLCBDYXJkVGl0bGUsIENvbCwgUm93IH0gZnJvbSAncmVhY3RzdHJhcCc7XG5pbXBvcnQgeyBncWwgfSBmcm9tICdhcG9sbG8tYm9vc3QnO1xuaW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tICdAYXBvbGxvL3JlYWN0LWhvb2tzJztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbi8vZ3JhcGhRTOOCkuWRvOOBs+WHuuOBmVxuY29uc3QgR0VUX1JFU1RBVVJBTlRfRElTSEVTID0gZ3FsYFxuICBxdWVyeSAoJGlkOiBJRCEpIHtcbiAgICByZXN0YXVyYW50KGlkOiAkaWQpIHtcbiAgICAgIGlkXG4gICAgICBuYW1lXG4gICAgICBkaXNoZXMge1xuICAgICAgICBpZFxuICAgICAgICBuYW1lXG4gICAgICAgIGRlc2NyaXB0aW9uXG4gICAgICAgIHByaWNlXG4gICAgICAgIGltYWdlIHtcbiAgICAgICAgICB1cmxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuYDtcblxuY29uc3QgUmVzdGF1bGFudHMgPSAocHJvcHMpID0+IHtcbiAgY29uc29sZS5sb2coJ3Byb3BzOicsIHByb3BzKTtcblxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgLy9HcmFwaFFM44KS5L2/44GG44Gf44KB44Gu44OV44OD44Kv44K544CC44GT44GT44GnQVBJ44KS5Y+p44GPXG4gIGNvbnN0IHsgbG9hZGluZywgZXJyb3IsIGRhdGEgfSA9IHVzZVF1ZXJ5KEdFVF9SRVNUQVVSQU5UX0RJU0hFUywge1xuICAgIC8v5LiL44GucXVlcnnjga9SZXN0YXVyYW50TGlzdC9pbmRleC5qc+WGheOBq+OBguOCiz9pZD0ke3Jlcy5pZH3jgpLmjIfjgZlcbiAgICB2YXJpYWJsZXM6IHsgaWQ6IHJvdXRlci5xdWVyeS5pZCB9LFxuICB9KTtcbiAgY29uc29sZS5sb2coJ3JvdXRlci5xdWVyeS5pZDonLCByb3V0ZXIucXVlcnkuaWQpO1xuICBjb25zb2xlLmxvZygnZGF0YTonLCBkYXRhKTtcblxuICBpZiAoZXJyb3IpIHJldHVybiAn44Os44K544OI44Op44Oz44Gu6Kqt44G/6L6844G/44Gr5aSx5pWX44GX44G+44GX44Gf44CCJztcblxuICBpZiAobG9hZGluZykgcmV0dXJuIDxoMT7oqq3jgb/ovrzjgb/kuK3jgILjgILjgII8L2gxPjtcblxuICBpZiAoZGF0YSkge1xuICAgIGNvbnN0IHsgcmVzdGF1cmFudCB9ID0gZGF0YTtcbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPGgxPntyZXN0YXVyYW50Lm5hbWV9PC9oMT5cbiAgICAgICAgPFJvdz5cbiAgICAgICAgICB7cmVzdGF1cmFudC5kaXNoZXMubWFwKChyZXMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxDb2wgeHM9XCI2XCIgc209XCI0XCIga2V5PXtyZXMuaWR9IHN0eWxlPXt7IHBhZGRpbmc6IDAgfX0+XG4gICAgICAgICAgICAgICAgPENhcmQgc3R5bGU9e3sgbWFyZ2luOiAnMCAxMHB4JyB9fT5cbiAgICAgICAgICAgICAgICAgIDxDYXJkSW1nXG4gICAgICAgICAgICAgICAgICAgIHNyYz17YCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTH0ke3Jlcy5pbWFnZS51cmx9YH1cbiAgICAgICAgICAgICAgICAgICAgdG9wPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6IDI1MCB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxDYXJkQm9keT5cbiAgICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZT57cmVzLm5hbWV9IDwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlPntyZXMuZGVzY3JpcHRpb259PC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgICA8L0NhcmRCb2R5PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWZvb3RlclwiPlxuICAgICAgICAgICAgICAgICAgICB7Lyog5a6f6Zqb44Gr6aOb44Gw44GV44KM44KL44Gu44GvYXMgKi99XG4gICAgICAgICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgICAgICAgYXM9e2AvcmVzdGF1cmFudHMvJHtyZXMuaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICBocmVmPXtgL3Jlc3RhdXJhbnRzP2lkPSR7cmVzLmlkfWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIj7jgoLjgaPjgajopovjgos8L2E+XG4gICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuXG4gICAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICAgIHtgXG4gICAgICAgICAgICAgIGEge1xuICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBhOiBsaW5rIHtcbiAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC5jYXJkLWNvbHVtbjogMztcbiAgICAgICAgICAgIGB9XG4gICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgPC9Sb3c+XG4gICAgICA8Lz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiA8aDE+44Os44K544OI44Op44Oz44GM6KaL44Gk44GL44KK44G+44Gb44KT44Gn44GX44GfPC9oMT47XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlc3RhdWxhbnRzO1xuIl19 */\\n/*@ sourceURL=/Users/kodajimayuu1/Desktop/udemy/food-delivery-udemy/frontend/pages/restaurants.js */\")));\n  } else {\n    return __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 12\n      }\n    }, \"\\u30EC\\u30B9\\u30C8\\u30E9\\u30F3\\u304C\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\\u3067\\u3057\\u305F\");\n  }\n};\nexport default Restaulants;","map":{"version":3,"names":["Link","Card","CardBody","CardImg","CardTitle","Col","Row","gql","useQuery","useRouter","GET_RESTAURANT_DISHES","Restaulants","props","console","log","router","loading","error","data","variables","id","query","__jsx","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","restaurant","React","Fragment","name","dishes","map","res","xs","sm","key","style","padding","margin","src","process","env","NEXT_PUBLIC_API_URL","image","url","top","height","description","className","as","href","_JSXStyle"],"sources":["/Users/kodajimayuu1/Desktop/udemy/food-delivery-udemy/frontend/pages/restaurants.js"],"sourcesContent":["import Link from 'next/link';\nimport { Card, CardBody, CardImg, CardTitle, Col, Row } from 'reactstrap';\nimport { gql } from 'apollo-boost';\nimport { useQuery } from '@apollo/react-hooks';\nimport { useRouter } from 'next/router';\n//graphQLを呼び出す\nconst GET_RESTAURANT_DISHES = gql`\n  query ($id: ID!) {\n    restaurant(id: $id) {\n      id\n      name\n      dishes {\n        id\n        name\n        description\n        price\n        image {\n          url\n        }\n      }\n    }\n  }\n`;\n\nconst Restaulants = (props) => {\n  console.log('props:', props);\n\n  const router = useRouter();\n  //GraphQLを使うためのフックス。ここでAPIを叩く\n  const { loading, error, data } = useQuery(GET_RESTAURANT_DISHES, {\n    //下のqueryはRestaurantList/index.js内にある?id=${res.id}を指す\n    variables: { id: router.query.id },\n  });\n  console.log('router.query.id:', router.query.id);\n  console.log('data:', data);\n\n  if (error) return 'レストランの読み込みに失敗しました。';\n\n  if (loading) return <h1>読み込み中。。。</h1>;\n\n  if (data) {\n    const { restaurant } = data;\n    return (\n      <>\n        <h1>{restaurant.name}</h1>\n        <Row>\n          {restaurant.dishes.map((res) => {\n            return (\n              <Col xs=\"6\" sm=\"4\" key={res.id} style={{ padding: 0 }}>\n                <Card style={{ margin: '0 10px' }}>\n                  <CardImg\n                    src={`${process.env.NEXT_PUBLIC_API_URL}${res.image.url}`}\n                    top={true}\n                    style={{ height: 250 }}\n                  />\n                  <CardBody>\n                    <CardTitle>{res.name} </CardTitle>\n                    <CardTitle>{res.description}</CardTitle>\n                  </CardBody>\n                  <div className=\"card-footer\">\n                    {/* 実際に飛ばされるのはas */}\n                    <Link\n                      as={`/restaurants/${res.id}`}\n                      href={`/restaurants?id=${res.id}`}\n                    >\n                      <a className=\"btn btn-primary\">もっと見る</a>\n                    </Link>\n                  </div>\n                </Card>\n              </Col>\n            );\n          })}\n\n          <style jsx>\n            {`\n              a {\n                color: white;\n              }\n              a: link {\n                text-decoration: none;\n                color: white;\n              }\n              .card-column: 3;\n            `}\n          </style>\n        </Row>\n      </>\n    );\n  } else {\n    return <h1>レストランが見つかりませんでした</h1>;\n  }\n};\n\nexport default Restaulants;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}